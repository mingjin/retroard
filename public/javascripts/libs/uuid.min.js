// node-uuid/uuid.js
//
// Copyright (c) 2010 Robert Kieffer
// Dual licensed under the MIT and GPL licenses.
// Documentation and details at https://github.com/broofa/node-uuid
(function(){function p(e,t,n){var r=t&&n||0,i=0;t=t||[];e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){if(i<16){t[r+i++]=c[e]}});while(i<16){t[r+i++]=0}return t}function d(e,t){var n=t||0,r=l;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function w(e,t,n){var r=t&&n||0;var i=t||[];e=e||{};var s=e.clockseq!=null?e.clockseq:g;var o=e.msecs!=null?e.msecs:(new Date).getTime();var u=e.nsecs!=null?e.nsecs:b+1;var a=o-y+(u-b)/1e4;if(a<0&&e.clockseq==null){s=s+1&16383}if((a<0||o>y)&&e.nsecs==null){u=0}if(u>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}y=o;b=u;g=s;o+=122192928e5;var f=((o&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255;i[r++]=f>>>16&255;i[r++]=f>>>8&255;i[r++]=f&255;var l=o/4294967296*1e4&268435455;i[r++]=l>>>8&255;i[r++]=l&255;i[r++]=l>>>24&15|16;i[r++]=l>>>16&255;i[r++]=s>>>8|128;i[r++]=s&255;var c=e.node||m;for(var h=0;h<6;h++){i[r+h]=c[h]}return t?t:d(i)}function E(e,t,n){var r=t&&n||0;if(typeof e=="string"){t=e=="binary"?new f(16):null;e=null}e=e||{};var i=e.random||(e.rng||a)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){for(var s=0;s<16;s++){t[r+s]=i[s]}}return t||d(i)}var e=this;var t,n,r;var i=new Array(16);t=function(){var e,t=i,n=0;for(var n=0,e;n<16;n++){if((n&3)==0)e=Math.random()*4294967296;t[n]=e>>>((n&3)<<3)&255}return t};if(e.crypto&&crypto.getRandomValues){var s=new Uint32Array(4);r=function(){crypto.getRandomValues(s);for(var e=0;e<16;e++){i[e]=s[e>>2]>>>(e&3)*8&255}return i}}try{var o=require("crypto").randomBytes;n=o&&function(){return o(16)}}catch(u){}var a=n||r||t;var f=typeof Buffer=="function"?Buffer:Array;var l=[];var c={};for(var h=0;h<256;h++){l[h]=(h+256).toString(16).substr(1);c[l[h]]=h}var v=a();var m=[v[0]|1,v[1],v[2],v[3],v[4],v[5]];var g=(v[6]<<8|v[7])&16383;var y=0,b=0;var S=E;S.v1=w;S.v4=E;S.parse=p;S.unparse=d;S.BufferClass=f;S.mathRNG=t;S.nodeRNG=n;S.whatwgRNG=r;if(typeof module!="undefined"){module.exports=S}else{var x=e.uuid;S.noConflict=function(){e.uuid=x;return S};e.uuid=S}})()